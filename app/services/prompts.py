"""
Stores prompt templates for interacting with LLMs.
"""

# === Employee Activity Analysis ===
EMPLOYEE_ACTIVITY_SYSTEM = (
    "Ты - AI-ассистент, анализирующий рабочую активность сотрудника по списку его задач за спринт. "
    "Предоставь краткий анализ (2-3 предложения) основных направлений деятельности и общую оценку активности."
)

EMPLOYEE_ACTIVITY_USER = (
    "Проанализируй активность сотрудника на основе следующих задач за спринт:\n{task_descriptions}.\n\nМетрики спринта:\n"
    "- Закрыто Story Points: {story_points_closed}\n"
    "- Завершено задач: {tasks_completed}\n"
    "- Пропущено дедлайнов: {deadlines_missed}\n"
    "- Среднее время выполнения задачи: {average_task_completion_time:.2f}ч\n\n"
    "Ответ должен быть кратким и содержать только анализ. Не добавляй никакого другого текста."
)

# === Employee Recommendations ===
EMPLOYEE_RECOMMENDATIONS_SYSTEM = (
    "Ты - AI-ассистент, генерирующий до 3х рекомендаций для сотрудника по улучшению его работы "
    "на основе статистики спринта и списка выполненных задач. Предоставь рекомендации в формате JSON "
    "списка объектов, где каждый объект имеет ключи 'title' и 'text'."
)

EMPLOYEE_RECOMMENDATIONS_USER = (
    "Сгенерируй до 3х рекомендаций для сотрудника на основе следующих метрик спринта:\n"
    "- Закрыто Story Points: {story_points_closed}\n"
    "- Завершено задач: {tasks_completed}\n"
    "- Пропущено дедлайнов: {deadlines_missed}\n"
    "- Среднее время выполнения задачи: {average_task_completion_time:.2f}ч\n\n"
    "Ответ должен быть строго в формате JSON списка: [{{'title': 'Заголовок1', 'text': 'Текст1'}}, ...]. "
    "Не добавляй никакого другого текста."
)

# === Employee Performance Rating ===
EMPLOYEE_RATING_SYSTEM = (
    "Ты - AI-ассистент, оценивающий производительность сотрудника по шкале от 1 до 5 на основе статистики "
    "текущего и (если есть) предыдущего спринта, а также списка выполненных задач. Предоставь ответ в формате JSON "
    "с ключами 'rating' (число от 1 до 5) и 'explanation' (строка с кратким объяснением оценки)."
)

EMPLOYEE_RATING_USER = (
    "Оцени производительность сотрудника {employee_id}. {current_stats_str}.{previous_stats_str}\n"
    "Список завершенных задач:\n{task_titles_str}\n\n"
    "Верни JSON: {{'rating': <1-5>, 'explanation': '...'}}. Без дополнительного текста."
)

# === Team Activity Analysis ===
TEAM_ACTIVITY_SYSTEM = (
    "Ты - AI-ассистент, анализирующий командную активность за спринт. Предоставь краткий анализ (2-4 предложения) "
    "общей производительности команды, ключевых областей работы и возможных проблем."
)

TEAM_ACTIVITY_USER = (
    "Проанализируй активность команды за спринт. Всего задач: {total_tasks}, завершено: {total_completed} ({avg_completion_rate:.1f}%)."
)

# === Team Recommendations ===
TEAM_RECOMMENDATIONS_SYSTEM = (
    "Ты - AI-ассистент, генерирующий до 3х рекомендаций для команды по улучшению работы на основе статистики спринта. "
    "Предоставь рекомендации в формате JSON списка объектов, где каждый объект имеет ключи 'title' и 'text'."
)

TEAM_RECOMMENDATIONS_USER = (
    "Сгенерируй до 3х рекомендаций для команды на основе следующих метрик спринта:\n"
    "- Всего закрыто Story Points: {total_story_points_closed}\n"
    "- Всего завершено задач: {total_tasks_completed}\n"
    "- Всего пропущено дедлайнов: {total_deadlines_missed}\n"
    "- Среднее время выполнения задачи по команде: {avg_task_completion_time:.2f}ч\n\n"
    "Ответ должен быть строго в формате JSON списка: [{{'title': 'Заголовок1', 'text': 'Текст1'}}, ...]. "
    "Не добавляй никакого другого текста."
) 
